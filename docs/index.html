<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer Tree</title>
    <meta name="description" content="Timer Tree - A calming focus timer that grows a tree as you stay on task. Perfect for study sessions and deep work.">
    <meta name="author" content="J.Sim">
    <meta property="og:title" content="Timer Tree">
    <meta property="og:description" content="A calming focus timer that grows a tree as you stay on task.">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Timer Tree">
    <meta name="twitter:description" content="A calming focus timer that grows a tree as you stay on task.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌱</text></svg>">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Info Button -->
        <button class="info-button" id="info-btn" aria-label="About Timer Tree">🌱</button>

        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebar-overlay">
            <div class="sidebar" id="sidebar">
                <button class="sidebar-close" id="sidebar-close" aria-label="Close">×</button>
                <div class="sidebar-content">
                    <h2 class="sidebar-title">🌱 Timer Tree</h2>
                    <div class="sidebar-text">
                        <p>Timer Tree is a simple and calming focus timer that lets you grow a tree as you stay on task. The idea is simple: the longer you focus, the more your tree grows. Step away too soon, and the growth resets — stay with it, and watch your focus bear fruit (well, leaves).</p>
                        <p>Great for study sessions, deep work, or mindful breaks — Timer Tree brings a gentle visual reward to your concentration time.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <h1 class="app-title">Start planting today!</h1>
            
            <!-- Plant Display -->
            <section class="plant-circle" aria-label="Plant Growth Display">
                <div class="plant-stage-container">
                    <div class="plant-emoji" id="plant-emoji" data-stage="0">
                        🌰
                    </div>
                </div>
                <div class="stage-indicator" id="stage-indicator">Stage 0/7</div>
            </section>
            
            <!-- Total Focus Time Display -->
            <section class="total-focus-display" id="total-focus-display" aria-label="Total Focus Time">
                Total Focus Time: <span id="total-hours">0</span> hours
            </section>
            
            <!-- Analytics Button -->
            <section class="analytics-section">
                <button class="analytics-btn" id="analytics-btn" aria-label="View Statistics">
                    📊 View Stats
                </button>
            </section>

            <!-- Pomodoro Status Display -->
            <section class="pomodoro-status" id="pomodoro-status" aria-label="Pomodoro Status" style="display: none;">
                <div class="pomodoro-mode-indicator" id="pomodoro-mode-indicator">
                    <span class="mode-text" id="mode-text">Work Time</span>
                    <span class="cycle-count" id="cycle-count">Cycle 1</span>
                </div>
            </section>

            <!-- Timer Settings -->
            <section class="timer-settings" aria-label="Timer Configuration">
                <div class="settings-row">
                    <label for="time-input">Focus time:</label>
                    <div class="time-input-group">
                        <input type="number" id="time-input" min="1" max="9999" value="25">
                        <select id="unit-selector" class="unit-selector">
                            <option value="seconds">seconds</option>
                            <option value="minutes" selected>minutes</option>
                            <option value="hours">hours</option>
                        </select>
                    </div>
                </div>
                <div class="settings-row">
                    <label for="plant-selector-btn">Plant type:</label>
                    <button class="plant-selector-btn" id="plant-selector-btn">
                        <span class="plant-selector-icon">🌱</span>
                        <span class="plant-selector-text">Choose Plant</span>
                    </button>
                </div>
                <div class="settings-row">
                    <label for="pomodoro-toggle">Pomodoro Mode:</label>
                    <div class="pomodoro-toggle-container">
                        <label class="toggle-switch" for="pomodoro-toggle">
                            <input type="checkbox" id="pomodoro-toggle" class="toggle-input">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                <div class="settings-row">
                    <label for="dark-mode-toggle">Dark Mode:</label>
                    <div class="dark-mode-toggle-container">
                        <label class="toggle-switch" for="dark-mode-toggle">
                            <input type="checkbox" id="dark-mode-toggle" class="toggle-input">
                            <span class="toggle-slider dark-mode-slider"></span>
                        </label>
                        <span class="theme-icon" id="theme-icon">🌙</span>
                    </div>
                </div>
                <div class="settings-row pomodoro-break-setting" id="pomodoro-break-setting" style="display: none;">
                    <label for="break-time-input">Break time:</label>
                    <div class="break-input-group">
                        <input type="number" id="break-time-input" min="1" max="60" value="2">
                        <span class="break-unit">minutes</span>
                    </div>
                </div>
                <div class="settings-row pomodoro-extended-break-setting" id="pomodoro-extended-break-setting" style="display: none;">
                    <label for="extended-break-time-input">Extended break:</label>
                    <div class="break-input-group">
                        <input type="number" id="extended-break-time-input" min="1" max="120" value="15">
                        <span class="break-unit">minutes</span>
                        <span class="extended-break-hint">(after 4 cycles)</span>
                    </div>
                </div>
                <div class="settings-row">
                    <label for="sound-selector">Sound theme:</label>
                    <select id="sound-selector" class="sound-selector">
                        <option value="chime" selected>Classic Chime</option>
                        <option value="nature">Nature Sounds</option>
                        <option value="bell">Temple Bell</option>
                        <option value="soft">Soft Tone</option>
                        <option value="off">Silent</option>
                    </select>
                </div>
                <div class="settings-row">
                    <label for="volume-slider">Volume:</label>
                    <div class="volume-control">
                        <span class="volume-icon">🔊</span>
                        <input type="range" id="volume-slider" class="volume-slider" min="0" max="100" value="50">
                        <span class="volume-value" id="volume-value">50%</span>
                        <button class="volume-test-btn" id="volume-test-btn" aria-label="Test sound">🎵</button>
                    </div>
                </div>
            </section>
            
            <!-- Preset Buttons -->
            <div class="preset-buttons">
                <button class="preset-btn" data-minutes="0.5" data-unit="minutes" data-display="30s">30s</button>
                <button class="preset-btn" data-minutes="5" data-unit="minutes" data-display="5m">5m</button>
                <button class="preset-btn" data-minutes="25" data-unit="minutes" data-display="25m">25m</button>
                <button class="preset-btn" data-minutes="45" data-unit="minutes" data-display="45m">45m</button>
                <button class="preset-btn" data-minutes="60" data-unit="minutes" data-display="1h">1h</button>
                <button class="preset-btn" data-minutes="90" data-unit="minutes" data-display="1.5h">1.5h</button>
                <button class="preset-btn" data-minutes="120" data-unit="minutes" data-display="2h">2h</button>
            </div>
            
            <!-- Progress Bar -->
            <div class="progress-container" aria-label="Timer Progress">
                <div class="progress-bar" id="progress-bar"></div>
                <div class="progress-text">Focus Progress</div>
            </div>
            
            <!-- Timer Display -->
            <div class="timer-display" id="timer-display" aria-live="polite" aria-label="Timer countdown">25:00</div>
            
            <!-- Start Button -->
            <button class="start-button" id="start-btn">Plant</button>
            
            <!-- Hidden Controls -->
            <div class="hidden-controls" id="hidden-controls">
                <button id="pause-btn" class="control-btn">Pause</button>
                <button id="skip-btn" class="control-btn">Skip</button>
                <button id="reset-btn" class="control-btn">Reset</button>
            </div>
            
            <!-- Celebration Message -->
            <div class="celebration-message" id="celebration-message">
                <div class="celebration-text">Your plant grew! 🎉</div>
            </div>
        </main>

        <!-- Analytics Modal -->
        <div class="analytics-modal-overlay" id="analytics-modal-overlay">
            <div class="analytics-modal" id="analytics-modal">
                <div class="analytics-modal-header">
                    <h3 class="analytics-modal-title">📊 Focus Statistics</h3>
                    <button class="analytics-modal-close" id="analytics-modal-close" aria-label="Close">×</button>
                </div>
                <div class="analytics-content">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="total-sessions">0</div>
                            <div class="stat-label">Total Sessions</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="current-streak">0</div>
                            <div class="stat-label">Current Streak</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="longest-streak">0</div>
                            <div class="stat-label">Longest Streak</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="avg-session">0</div>
                            <div class="stat-label">Avg Session (min)</div>
                        </div>
                    </div>
                    
                    <div class="weekly-stats">
                        <h4>This Week</h4>
                        <div class="week-grid" id="week-grid">
                            <div class="day-stat" data-day="0"><span class="day-name">Sun</span><div class="day-bar"><div class="day-fill"></div></div><span class="day-time">0h</span></div>
                            <div class="day-stat" data-day="1"><span class="day-name">Mon</span><div class="day-bar"><div class="day-fill"></div></div><span class="day-time">0h</span></div>
                            <div class="day-stat" data-day="2"><span class="day-name">Tue</span><div class="day-bar"><div class="day-fill"></div></div><span class="day-time">0h</span></div>
                            <div class="day-stat" data-day="3"><span class="day-name">Wed</span><div class="day-bar"><div class="day-fill"></div></div><span class="day-time">0h</span></div>
                            <div class="day-stat" data-day="4"><span class="day-name">Thu</span><div class="day-bar"><div class="day-fill"></div></div><span class="day-time">0h</span></div>
                            <div class="day-stat" data-day="5"><span class="day-name">Fri</span><div class="day-bar"><div class="day-fill"></div></div><span class="day-time">0h</span></div>
                            <div class="day-stat" data-day="6"><span class="day-name">Sat</span><div class="day-bar"><div class="day-fill"></div></div><span class="day-time">0h</span></div>
                        </div>
                    </div>
                    
                    <div class="analytics-actions">
                        <button class="export-btn" id="export-btn">📤 Export Data</button>
                        <button class="reset-stats-btn" id="reset-stats-btn">🗑️ Reset Stats</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Plant Selection Modal -->
        <div class="plant-modal-overlay" id="plant-modal-overlay">
            <div class="plant-modal" id="plant-modal">
                <div class="plant-modal-header">
                    <h3 class="plant-modal-title">Choose Your Plant</h3>
                    <button class="plant-modal-close" id="plant-modal-close" aria-label="Close">×</button>
                </div>
                <div class="plant-options-grid">
                    <div class="plant-option" data-plant="classic">
                        <div class="plant-preview">🌳</div>
                        <div class="plant-name">Classic Tree</div>
                        <div class="plant-description">Acorn to mighty oak</div>
                    </div>
                    <div class="plant-option" data-plant="flower">
                        <div class="plant-preview">🌺</div>
                        <div class="plant-name">Flower Garden</div>
                        <div class="plant-description">Beautiful blooms</div>
                    </div>
                    <div class="plant-option" data-plant="cactus">
                        <div class="plant-preview">🌵</div>
                        <div class="plant-name">Desert Cactus</div>
                        <div class="plant-description">Desert survivor</div>
                    </div>
                    <div class="plant-option" data-plant="bamboo">
                        <div class="plant-preview">🎋</div>
                        <div class="plant-name">Bamboo Forest</div>
                        <div class="plant-description">Zen growth</div>
                    </div>
                    <div class="plant-option" data-plant="fruit">
                        <div class="plant-preview">🍎</div>
                        <div class="plant-name">Fruit Tree</div>
                        <div class="plant-description">Sweet rewards</div>
                    </div>
                    <div class="plant-option" data-plant="rose">
                        <div class="plant-preview">🌹</div>
                        <div class="plant-name">Rose Garden</div>
                        <div class="plant-description">Elegant beauty</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="app-footer">
        <p>App by J.Sim</p>
    </footer>
    
    <script src="script.js"></script>
    <script>
        // Sidebar functionality
        const infoBtn = document.getElementById('info-btn');
        const sidebarOverlay = document.getElementById('sidebar-overlay');
        const sidebarClose = document.getElementById('sidebar-close');

        // Open sidebar
        infoBtn.addEventListener('click', () => {
            sidebarOverlay.classList.add('show');
            document.body.classList.add('sidebar-open');
        });

        // Close sidebar
        sidebarClose.addEventListener('click', () => {
            sidebarOverlay.classList.remove('show');
            document.body.classList.remove('sidebar-open');
        });

        // Close sidebar when clicking on overlay
        sidebarOverlay.addEventListener('click', (e) => {
            if (e.target === sidebarOverlay) {
                sidebarOverlay.classList.remove('show');
                document.body.classList.remove('sidebar-open');
            }
        });

        // Close sidebar with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && sidebarOverlay.classList.contains('show')) {
                sidebarOverlay.classList.remove('show');
                document.body.classList.remove('sidebar-open');
            }
        });
    </script>
</body>
</html>